/* This is the guidance of GEM5 TPC Simulator. */#	File ListThe GEM5 simulator consists of the following components.The source file contains:1. `/build_opts/`: these are the files of basic components, including processors with different architectures.2. `/system/`: the system folder contains boot loader and linking files for specific processor architecture (such as alpha and arm).3. `/util/`: the executing tool library.4. `/src/`: the source files of detailed design modules.5. `/tests/`: the input benchmark (aarch64-compiled C execution file).6. `/profile/`: the energy profiles7. `/config/`: the execution configurations to establish a simulating plarform.### Max tick number is in:/sim/simulate.hh & base/types.hh (MaxTick)### The basic system class is defined in sim/system.hh### Add a parameter as inputIf you want to edit a parameter as input in the input profile. You need to edit the following files. Take virtual device as example. We are suppose to add an energy consumption value of the virtual devices.First of all, add the target parameter as a member of the target class.\src\vdev\vdev.hh, \src\vdev\vdev.ccSecond, register the parameter in the python file of virtual device module. Note that, we need to give a value type constructor here to set the initialization value of the parameter.\src\vdev\VirtualDevice.pyThe construction function of this type is defined in a global parameter file.Docker is a convenient platform that provides a naked Ubuntu environment for development. It is known for its safety managing different projects. The modification to the core is different and is isolated by docker. Thus, we start the simulator in docker. Another good thing in this method is that, the installing procedure shows the ENTIRE dependences of the simulator except for the original Linus/Ubuntu core. Docker uses [HyperKit](https://github.com/moby/hyperkit), a light virtual machine for MacOS, instead of virtual box or vmware. So, now let's get started!##	Getting Started With a Ubuntu ContainerHere is a stable version website for [download](https://docs.docker.com/docker-for-mac/install/#download-docker-for-mac). (This is [boot2docker](https://github.com/boot2docker/osx-installer/releasess) if you need.) The docker provided is a integrated package of all the tools of docker (such as docker-machine, docker-compose...). After installed docker, we need to set/check-setting the docker.> env | grep DOCKERNo return means the docker is ready, otherwise, please refer to the [docker document](https://docs.docker.com/docker-for-mac/docker-toolbox/#the-docker-for-mac-environment). And check the docker version.> 	> docker --version	> docker-compose --version	> docker-machine --version	> docker versionFinally, we sets a shared folder to exchange data between the docker and your MacOS.  Select the docker icon in the taskbar *taskbar -> docker -> preferences -> File sharing*. Then select the device you are supposed to share between docker and your MacOS.If all the tools are well installed, we start to run the first container, called *test*.>docker run -i -t --name="NVPSim" -v /Users/polarpolar/Laboratory/NVP_Simulator/DockerShare:/root/share ubuntu:xenialThis instruction will download a *ubuntu:xenial* image and construct an Ubuntu 16.04 container if lacks. This container is a pure command user interface which is light with of GUI. The container share the local hardware sources. At the same time, the local folder `/Users/polarpolar/Laboratory/NVP_Simulator/DockerShare` is now linked to `/root/share` in the docker container. And you can share files via this folder between the docker container and the local machine. Now you can anything in `/root/share`, which is able to be synchronized i you local machine.Note that, you can start/exit/remove a container, such as *test*, with command: > 	> docker start -i test	> exit	> docker rm test##	Setup the NVPSim EnvironmentNow we start to setup an NVPSim Environment in the container *NVPSim*. First of all, we need to add all the dependencies of the simulator which concludes ... ...	> apt-get install python python-dev g++ scons zlib1g-dev m4 swig git vim libgoogle-perftools-dev gcc-5-aarch64-linux-gnu makeBefore all, you can change your library source to a quick access to Tsinghua if required, and then update the library.>	> sed -i 's/archive.ubuntu.com/mirrors.tuna.tsinghua.edu.cn/g' /etc/apt/sources.list 	> apt-get updateNote that, in docker, you are authorized as administer in default. Now the environment is completely ready.##	Setup the simulator NVPSimFirst, download/fork the simulator from [github](https://github.com/polarpolar/gem5) (NOTE: this project is forked from `zlfben/gem5` from `gem5/gem5`) into the working station in docker. And then follow the instructions in GUIDANCE FILE and [github wiki](https://github.com/zlfben/gem5/wiki).>